<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.Slider?>
<?import javafx.scene.effect.DropShadow?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.shape.Rectangle?>
<?import javafx.scene.text.Font?>
<?import javafx.scene.text.Text?>

<StackPane xmlns="http://javafx.com/javafx/23.0.1" xmlns:fx="http://javafx.com/fxml/1" 
           fx:controller="com.example.controllers.SettingsController"
           prefWidth="800.0" prefHeight="600.0">

   <!-- Background with grass image -->
   <StackPane>
      <ImageView fitWidth="800" fitHeight="600" preserveRatio="false">
         <image>
            <Image url="@../assets/home_page_grass.png" />
         </image>
      </ImageView>
   </StackPane>

   <!-- Decorative green header bar -->
   <BorderPane pickOnBounds="false">
      <top>
         <StackPane fx:id="headerBar" onMousePressed="#onHeaderBarPressed" onMouseDragged="#onHeaderBarDragged">
            <Rectangle width="800" height="60" 
                      style="-fx-fill: #5d7542; -fx-arc-width: 0; -fx-arc-height: 0;">
               <effect>
                  <DropShadow color="#00000080" height="10" radius="4.5" width="10" />
               </effect>
            </Rectangle>

            <Text fill="#e8f4d9" text="Settings" 
                  style="-fx-font-family: 'Segoe UI'; -fx-font-size: 32px; -fx-font-weight: bold;">
               <effect>
                  <DropShadow color="#00000080" height="5" radius="2" width="5" />
               </effect>
            </Text>
         </StackPane>
      </top>
   </BorderPane>

   <!-- Main content -->
   <VBox alignment="CENTER" spacing="20.0">
      <!-- Settings panel - now with transparent background -->
      <VBox alignment="CENTER" spacing="12" maxWidth="480" style="-fx-background-color: transparent; -fx-padding: 15 20;">
         <!-- Volume settings -->
         <HBox alignment="CENTER_LEFT" spacing="10">
            <Label text="MUSIC VOLUME:" textFill="#e8f4d9" prefWidth="130"
                   style="-fx-font-weight: bold; -fx-font-size: 13px; -fx-font-family: 'Segoe UI'; -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.8), 3, 0, 0, 0);"/>
            <Slider fx:id="musicVolumeSlider" prefWidth="240" value="75"
                    style="-fx-control-inner-background: #7d5a3c; -fx-accent: #a07748;" />
            <Label fx:id="musicVolumeLabel" text="75%" textFill="#e8f4d9" prefWidth="40"
                   style="-fx-font-weight: bold; -fx-font-size: 13px; -fx-font-family: 'Segoe UI'; -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.8), 3, 0, 0, 0);" />
         </HBox>
         
         <HBox alignment="CENTER_LEFT" spacing="10">
            <Label text="SOUND EFFECTS:" textFill="#e8f4d9" prefWidth="130"
                   style="-fx-font-weight: bold; -fx-font-size: 13px; -fx-font-family: 'Segoe UI'; -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.8), 3, 0, 0, 0);"/>
            <Slider fx:id="sfxVolumeSlider" prefWidth="240" value="100" 
                    style="-fx-control-inner-background: #7d5a3c; -fx-accent: #a07748;" />
            <Label fx:id="sfxVolumeLabel" text="100%" textFill="#e8f4d9" prefWidth="40"
                   style="-fx-font-weight: bold; -fx-font-size: 13px; -fx-font-family: 'Segoe UI'; -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.8), 3, 0, 0, 0);" />
         </HBox>
         
         <Rectangle height="1" width="460" style="-fx-fill: #8a673c;" />

         <!-- Gameplay settings -->
         <HBox alignment="CENTER_LEFT" spacing="10">
            <Label text="DIFFICULTY:" textFill="#e8f4d9" prefWidth="130"
                   style="-fx-font-weight: bold; -fx-font-size: 13px; -fx-font-family: 'Segoe UI'; -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.8), 3, 0, 0, 0);"/>
            <ComboBox fx:id="difficultyCombo" prefWidth="200" 
                      style="-fx-background-color: #7d5a3c; -fx-text-fill: #e8f4d9; -fx-font-family: 'Segoe UI'; 
                             -fx-font-weight: bold; -fx-font-size: 13px; -fx-border-color: #a07748; 
                             -fx-border-width: 1; -fx-border-radius: 3;" />
         </HBox>
         
         <HBox alignment="CENTER_LEFT" spacing="10">
            <Label text="GAME SPEED:" textFill="#e8f4d9" prefWidth="130"
                   style="-fx-font-weight: bold; -fx-font-size: 13px; -fx-font-family: 'Segoe UI'; -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.8), 3, 0, 0, 0);"/>
            <ComboBox fx:id="gameSpeedCombo" prefWidth="200" 
                      style="-fx-background-color: #7d5a3c; -fx-text-fill: #e8f4d9; -fx-font-family: 'Segoe UI'; 
                             -fx-font-weight: bold; -fx-font-size: 13px; -fx-border-color: #a07748; 
                             -fx-border-width: 1; -fx-border-radius: 3;" />
         </HBox>
         
         <Rectangle height="1" width="460" style="-fx-fill: #8a673c;" />
         
         <!-- Action buttons -->
         <HBox alignment="CENTER" spacing="20">
            <Button fx:id="saveBtn" text="Save Settings" prefWidth="140" prefHeight="35" 
                   onAction="#saveSettings" styleClass="menu-button" />
                   
            <Button fx:id="resetBtn" text="Reset to Default" prefWidth="140" prefHeight="35" 
                   onAction="#resetSettings" styleClass="menu-button" />
                   
            <Button fx:id="homeBtn" text="Back to Home" prefWidth="140" prefHeight="35" 
                   onAction="#goToHomePage" styleClass="menu-button" />
         </HBox>
      </VBox>
   </VBox>
    
   <!-- Decorative green footer bar -->
   <BorderPane pickOnBounds="false">
      <bottom>
         <StackPane>
            <Rectangle width="800" height="40" 
                       style="-fx-fill: #5d7542; -fx-arc-width: 0; -fx-arc-height: 0;">
               <effect>
                  <DropShadow color="#00000080" height="10" radius="4.5" width="10" />
               </effect>
            </Rectangle>
         </StackPane>
      </bottom>
   </BorderPane>
    
</StackPane>