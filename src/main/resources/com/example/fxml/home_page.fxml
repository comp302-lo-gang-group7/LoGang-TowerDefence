<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.effect.DropShadow?>
<?import javafx.scene.effect.InnerShadow?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.shape.Rectangle?>
<?import javafx.scene.text.Font?>
<?import javafx.scene.text.Text?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.control.ListView?>

<StackPane xmlns="http://javafx.com/javafx/23.0.1" xmlns:fx="http://javafx.com/fxml/1" 
           fx:controller="com.example.controllers.MainMenuController" 
           prefWidth="1600.0" prefHeight="900.0">

   <!-- Background with grass image -->
   <StackPane>
      <ImageView fitWidth="1600" fitHeight="900" preserveRatio="false">
         <image>
            <Image url="@../assets/home_page_grass.png" />
         </image>
      </ImageView>
   </StackPane>

   <!-- Decorative green header bar -->
   <BorderPane pickOnBounds="false">
      <top>
         <StackPane>
            <Rectangle width="1600" height="80" 
                       style="-fx-fill: #5d7542; -fx-arc-width: 0; -fx-arc-height: 0;">
               <effect>
                  <DropShadow color="#00000080" height="10" radius="4.5" width="10" />
               </effect>
            </Rectangle>
            <Text fill="#e8f4d9" text="CLASH OF TOWERS" 
                  style="-fx-font-family: 'Segoe UI'; -fx-font-size: 42px; -fx-font-weight: bold;">
               <effect>
                  <DropShadow color="#00000080" height="3" radius="1" width="3" />
               </effect>
            </Text>
         </StackPane>
      </top>
   </BorderPane>

   <!-- Main content -->
   <VBox alignment="CENTER" spacing="30.0">
      <!-- Button container -->
      <VBox alignment="CENTER" spacing="15.0" maxWidth="440.0">
         <padding>
            <Insets top="25.0" right="15.0" bottom="25.0" left="15.0" />
         </padding>
         
         <!-- Main menu buttons -->
         <Button fx:id="newGameBtn" text="Start New Game" onAction="#toggleNewGameOptions" 
                prefWidth="360.0" prefHeight="55.0" styleClass="menu-button"
                style="-fx-font-size: 20px;" />
         
         <!-- New Game Options -->
         <VBox fx:id="newGameOptions" visible="false" managed="false" spacing="10.0" alignment="CENTER">
            <VBox spacing="10.0" alignment="CENTER">
               <padding>
                  <Insets top="10.0" right="10.0" bottom="10.0" left="10.0" />
               </padding>
               <Button fx:id="defaultGameBtn" text="Default Game" onAction="#goToDefaultGamePage"
                       prefWidth="280.0" prefHeight="35.0" styleClass="sub-menu-button" />
               <Button fx:id="customGameBtn" text="Custom Game" onAction="#goToCustomGamePage"
                       prefWidth="280.0" prefHeight="35.0" styleClass="sub-menu-button" />
            </VBox>
         </VBox>
         
         <Button fx:id="loadGameBtn" text="Load Game" onAction="#toggleLoadGameOptions" 
                prefWidth="360.0" prefHeight="55.0" styleClass="menu-button"
                style="-fx-font-size: 20px;" />
         
         <!-- Load Game Options -->
         <VBox fx:id="loadGameOptions" visible="false" managed="false" spacing="10.0" alignment="CENTER">
            <VBox spacing="10.0" alignment="CENTER">
               <padding>
                  <Insets top="10.0" right="10.0" bottom="10.0" left="10.0" />
               </padding>
               <ListView fx:id="savedGamesListView" prefHeight="130.0" prefWidth="280.0" 
                        style="-fx-background-color: rgba(66, 43, 26, 0.9); -fx-text-fill: #e8d9b5; -fx-control-inner-background: rgba(66, 43, 26, 0.9);" />
               <HBox spacing="10.0" alignment="CENTER">
                  <Button fx:id="loadSelectedBtn" text="Load" onAction="#loadSelectedGame"
                          prefWidth="135.0" prefHeight="35.0" styleClass="sub-menu-button" />
                  <Button fx:id="deleteSelectedBtn" text="Delete" onAction="#deleteSelectedGame"
                          prefWidth="135.0" prefHeight="35.0" styleClass="sub-menu-button" />
               </HBox>
            </VBox>
         </VBox>
         
         <Button fx:id="mapEditorBtn" text="Map Editor" onAction="#goToMapEditorPage" 
                prefWidth="360.0" prefHeight="55.0" styleClass="menu-button"
                style="-fx-font-size: 20px;" />
         
         <Button fx:id="quitBtn" text="Quit" onAction="#terminateApplication" 
                prefWidth="360.0" prefHeight="55.0" styleClass="menu-button"
                style="-fx-font-size: 20px;" />
      </VBox>
      
      <!-- Game version info -->
      <StackPane>
         <Rectangle width="200" height="24" arcWidth="10" arcHeight="10" 
                    style="-fx-fill: rgba(66, 43, 26, 0.7); -fx-stroke: #8a673c; -fx-stroke-width: 1;" />
         <Text fill="#d9c9a0" text="Version 1.0 - LoGang Tower Defense">
            <font>
               <Font name="Segoe UI" size="12.0" />
            </font>
         </Text>
      </StackPane>
   </VBox>
    
   <!-- Decorative green footer bar -->
   <BorderPane pickOnBounds="false">
      <bottom>
         <StackPane>
            <Rectangle width="1600" height="40" 
                       style="-fx-fill: #5d7542; -fx-arc-width: 0; -fx-arc-height: 0;">
               <effect>
                  <DropShadow color="#00000080" height="10" radius="4.5" width="10" />
               </effect>
            </Rectangle>
         </StackPane>
      </bottom>
   </BorderPane>
    
   <!-- Corner decorative elements -->
   <BorderPane pickOnBounds="false">
      <top>
         <StackPane alignment="TOP_LEFT">
            <Rectangle width="80" height="80" 
                     style="-fx-fill: #6b4c2e; -fx-stroke: #8a673c; -fx-stroke-width: 3;" />
         </StackPane>
      </top>
      <right>
         <StackPane alignment="TOP_RIGHT">
            <Rectangle width="80" height="80" 
                     style="-fx-fill: #6b4c2e; -fx-stroke: #8a673c; -fx-stroke-width: 3;" />
         </StackPane>
      </right>
      <left>
         <StackPane alignment="BOTTOM_LEFT">
            <Rectangle width="80" height="80" 
                     style="-fx-fill: #6b4c2e; -fx-stroke: #8a673c; -fx-stroke-width: 3;" />
            <Button fx:id="settingsBtn" onAction="#goToSettings" 
                    maxWidth="80" maxHeight="80"
                    style="-fx-background-color: transparent; -fx-padding: 0;">
               <graphic>
                  <ImageView fitWidth="80" fitHeight="80" preserveRatio="true">
                     <Image url="@../assets/ui/settings_icon.png" />
                  </ImageView>
               </graphic>
            </Button>
         </StackPane>
      </left>
      <bottom>
         <StackPane alignment="BOTTOM_RIGHT">
            <Rectangle width="80" height="80" 
                     style="-fx-fill: #6b4c2e; -fx-stroke: #8a673c; -fx-stroke-width: 3;" />
         </StackPane>
      </bottom>
   </BorderPane>
</StackPane>