<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.canvas.Canvas?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.effect.DropShadow?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.shape.Rectangle?>
<?import javafx.scene.text.Font?>
<?import javafx.scene.text.Text?>

<StackPane prefHeight="600.0" prefWidth="800.0" xmlns="http://javafx.com/javafx/23.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.example.controllers.MainMenuController">

   <!-- Background with grass image -->
   <StackPane>
      <ImageView fitHeight="600" fitWidth="800" preserveRatio="false">
         <image>
            <Image url="@../assets/home_page_grass.png" />
         </image>
      </ImageView>
      <Canvas fx:id="backgroundCanvas" height="600.0" mouseTransparent="true" width="800.0" />
   </StackPane>

   <!-- Decorative green header bar with banner images -->
   <BorderPane pickOnBounds="false">
      <top>
         <StackPane>
            <ImageView fitHeight="84.0" fitWidth="801.0" pickOnBounds="true" StackPane.alignment="TOP_CENTER">
               <image>
                  <Image url="@../assets/ui/borderbanner.png" />
               </image>
            </ImageView>
            <ImageView fitHeight="211.0" fitWidth="306.0" pickOnBounds="true" preserveRatio="true">
               <image>
                  <Image url="@../assets/ui/banner.png" />
               </image>
            </ImageView>
         </StackPane>
      </top>
   </BorderPane>

   <!-- Main content -->
   <VBox alignment="CENTER" spacing="25.0" translateY="-50.0">
      <!-- Menu panel with wooden styling -->
      <StackPane prefHeight="356.0" prefWidth="801.0">
         <!-- Button container -->
         <VBox alignment="CENTER" maxWidth="380.0" prefHeight="414.0" prefWidth="380.0" spacing="15.0">
            <padding>
               <Insets bottom="20.0" left="10.0" right="10.0" top="160.0" />
            </padding>

            <Button fx:id="newGameBtn" onAction="#toggleNewGameSubMenu" prefHeight="34.0" prefWidth="185.0" styleClass="menu-button" text="Play" />

            <!-- New Game Sub-Menu -->
            <VBox fx:id="newGameSubMenuVBox" alignment="CENTER" managed="false" maxWidth="260.0" prefWidth="1.0" spacing="10.0" visible="false">
               <Button fx:id="defaultGameBtn" prefHeight="30.0" prefWidth="150.0" styleClass="menu-button" text="Campaign" />
               <Button fx:id="customGameBtn" prefHeight="30.0" prefWidth="150.0" styleClass="menu-button" text="Custom Game" />
            </VBox>

            <Button fx:id="mapEditorBtn" onAction="#goToMapEditorPage" prefHeight="35.0" prefWidth="185.0" styleClass="menu-button" text="Map Editor" />
            <Button fx:id="howToPlayBtn" onAction="#goToHowToPlayPage" prefHeight="33.0" prefWidth="185.0" styleClass="menu-button" text="How To Play" />
            <Button fx:id="quitBtn" onAction="#terminateApplication" prefHeight="38.0" prefWidth="185.0" styleClass="menu-button" text="Quit" />
            <StackPane.margin>
               <Insets />
            </StackPane.margin>
         </VBox>
      </StackPane>

      <!-- Game version info -->
      <StackPane prefHeight="10.0" prefWidth="801.0">
         <Rectangle arcHeight="10" arcWidth="10" height="24" style="-fx-fill: rgba(66, 43, 26, 0.7); -fx-stroke: #8a673c; -fx-stroke-width: 1;" width="200" />
         <Text fill="#d9c9a0" text="Version 1.0 - LoGang Tower Defense">
            <font>
               <Font name="Segoe UI" size="12.0" />
            </font>
         </Text>
      </StackPane>
   </VBox>

   <!-- Decorative green footer bar -->
   <BorderPane pickOnBounds="false">
      <bottom>
         <StackPane>
            <Rectangle height="80" style="-fx-fill: #5d7542; -fx-arc-width: 0; -fx-arc-height: 0;" width="800">
               <effect>
                  <DropShadow color="#00000080" height="10" radius="4.5" width="10" />
               </effect>
            </Rectangle>
         </StackPane>
      </bottom>
   </BorderPane>

   <!-- Corner decorative elements -->
   <BorderPane pickOnBounds="false" prefWidth="800.0">
      <top>
         <StackPane alignment="TOP_LEFT">
         </StackPane>
      </top>
      <right>
         <StackPane alignment="TOP_RIGHT">
         </StackPane>
      </right>
      <left>
         <StackPane alignment="BOTTOM_LEFT">
            <Rectangle height="40" style="-fx-fill: #6b4c2e; -fx-stroke: #8a673c; -fx-stroke-width: 2;" width="40" />
            <Button fx:id="settingsIconButton" onAction="#goToSettings" prefHeight="40.0" prefWidth="40.0" style="-fx-background-color: transparent;">
               <graphic>
               </graphic>
            </Button>
         </StackPane>
      </left>
      <bottom>
         <StackPane alignment="BOTTOM_RIGHT">
            <Rectangle height="18.0" style="-fx-fill: #5d7542; -fx-stroke: #5d7542; -fx-stroke-width: 2;" width="34.0" />
         </StackPane>
      </bottom>
   </BorderPane>
</StackPane>
